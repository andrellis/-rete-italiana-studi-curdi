---
// Twitter Feed Component using official embed
// This component creates a Twitter timeline embed
// To use: Replace 'YOUR_TWITTER_USERNAME' with the actual Twitter handle
---

<div class="bg-white rounded-lg shadow-md p-6">
  <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
    <svg class="w-6 h-6 mr-2 text-blue-500" fill="currentColor" viewBox="0 0 24 24">
      <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
    </svg>
    Seguici su Twitter
  </h3>
  
  <!-- Twitter Timeline Embed -->
  <div class="twitter-timeline-container">
    <a 
      class="twitter-timeline" 
      data-height="400" 
      data-theme="light"
      data-chrome="nofooter"
      href="https://twitter.com/YOUR_TWITTER_USERNAME?ref_src=twsrc%5Etfw"
    >
      Tweets by YOUR_TWITTER_USERNAME
    </a>
  </div>
  
  <!-- Fallback content if Twitter embed fails -->
  <div class="twitter-fallback hidden">
    <p class="text-gray-600 text-sm mb-4">
      Segui i nostri aggiornamenti su Twitter per rimanere informato sui nostri eventi e pubblicazioni.
    </p>
    <a 
      href="https://twitter.com/YOUR_TWITTER_USERNAME" 
      target="_blank" 
      rel="noopener noreferrer"
      class="inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
    >
      <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
        <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
      </svg>
      Seguici su Twitter
    </a>
  </div>
</div>

<!-- Twitter Widgets Script -->
<script is:inline async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<script>
  // Fallback handling
  document.addEventListener('DOMContentLoaded', function() {
    // Check if Twitter widgets loaded successfully
    setTimeout(function() {
      const twitterContainer = document.querySelector('.twitter-timeline-container') as HTMLElement;
      const fallback = document.querySelector('.twitter-fallback') as HTMLElement;
      
      if (twitterContainer && fallback) {
        // If no tweets are loaded after 5 seconds, show fallback
        setTimeout(function() {
          const tweets = twitterContainer.querySelector('.twitter-timeline') as HTMLElement;
          if (!tweets || tweets.offsetHeight === 0) {
            twitterContainer.style.display = 'none';
            fallback.classList.remove('hidden');
          }
        }, 5000);
      }
    }, 1000);
  });
</script>

<style>
  .twitter-timeline-container {
    min-height: 400px;
  }
  
  .twitter-fallback {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 200px;
    text-align: center;
  }
  
  /* Custom styling for Twitter embed */
  .twitter-timeline {
    border-radius: 0.5rem;
  }
</style>
