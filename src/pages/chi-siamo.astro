---
import Layout from '../layouts/Layout.astro';
import PageHero from '../components/PageHero.astro';
import { getEntryBySlug } from 'astro:content';

const entry = await getEntryBySlug('pagine', 'chi-siamo');
const data = entry?.data;
let ContentComponent: any = null;
if (entry) {
  const rendered = await entry.render();
  ContentComponent = rendered.Content;
}

const title = data?.title || 'Chi Siamo';
const description = data?.description || 'Scopri la missione e i membri della Rete Italiana Studi Curdi';
const bgImage = data?.backgroundImage || data?.heroImage;
const overlay = typeof data?.backgroundOverlay === 'number' ? data?.backgroundOverlay : 60;
---

<Layout title={`${title} - Rete Italiana Studi Curdi`} description={description}>
  <PageHero 
    title={title}
    subtitle={description}
    backgroundImage={bgImage}
    overlayOpacity={overlay}
    minHeight="py-16"
  />
  
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="prose prose-lg max-w-none">
      {ContentComponent ? <ContentComponent /> : (
        <>
          <p class="text-xl text-gray-600 mb-8">
            La Rete Italiana di Studi Curdi Ã¨ un network di accademici, ricercatori e studenti interessati allo studio di tutti i temi attinenti agli studi curdi.
          </p>
        </>
      )}
    </div>
  </div>
</Layout>
